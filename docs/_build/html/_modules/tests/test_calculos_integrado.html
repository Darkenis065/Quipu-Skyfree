<!DOCTYPE html>

<html lang="es" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>tests.test_calculos_integrado &#8212; documentaci√≥n de Quipu-Skyfree - 21/11/2025</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/classic.css?v=2bf1fcf8" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=0d52af27" />
    
    <script src="../../_static/documentation_options.js?v=7a9cda9e"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/translations.js?v=f85f4cfb"></script>
    
    <link rel="index" title="√çndice" href="../../genindex.html" />
    <link rel="search" title="B√∫squeda" href="../../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navegaci√≥n</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="√çndice General"
             accesskey="I">√≠ndice</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="√çndice de M√≥dulos Python"
             >m√≥dulos</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">documentaci√≥n de Quipu-Skyfree - 21/11/2025</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">C√≥digo de m√≥dulo</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">tests.test_calculos_integrado</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>C√≥digo fuente para tests.test_calculos_integrado</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Script de prueba para la clase Calculos integrada con Rutinas</span>
<span class="sd">Ejecutar: python test_calculos_integrado.py</span>

<span class="sd">Este script prueba:</span>
<span class="sd">1. Funciones individuales de c√°lculo</span>
<span class="sd">2. An√°lisis de datasets desde archivos</span>
<span class="sd">3. An√°lisis de DataFrames en memoria</span>
<span class="sd">4. Integraci√≥n completa con el sistema</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">Calculations.calculos</span><span class="w"> </span><span class="kn">import</span> <span class="n">Calculos</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<div class="viewcode-block" id="separador">
<a class="viewcode-back" href="../../source/modules/tests.html#tests.test_calculos_integrado.separador">[documentos]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">separador</span><span class="p">(</span><span class="n">titulo</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Imprime un separador visual&quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;=&quot;</span><span class="o">*</span><span class="mi">70</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">titulo</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="o">*</span><span class="mi">70</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="crear_dataset_prueba_desi">
<a class="viewcode-back" href="../../source/modules/tests.html#tests.test_calculos_integrado.crear_dataset_prueba_desi">[documentos]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">crear_dataset_prueba_desi</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Crea un dataset de prueba simulando datos DESI con flujos fotom√©tricos&quot;&quot;&quot;</span>
    <span class="n">n</span> <span class="o">=</span> <span class="mi">100</span>
    
    <span class="c1"># Simular flujos realistas (nanomaggies)</span>
    <span class="c1"># Galaxias a diferentes redshifts tienen diferentes colores</span>
    <span class="n">redshifts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
    
    <span class="c1"># Relaci√≥n aproximada: galaxias m√°s lejanas (mayor z) son m√°s rojas</span>
    <span class="c1"># flux_g decrece m√°s r√°pido que flux_r con z</span>
    <span class="n">flux_g</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">redshifts</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">)</span>
    <span class="n">flux_r</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">redshifts</span> <span class="o">*</span> <span class="mf">0.3</span><span class="p">)</span>
    <span class="n">flux_z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">redshifts</span> <span class="o">*</span> <span class="mf">0.2</span><span class="p">)</span>
    
    <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;ra&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">360</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span>
        <span class="s1">&#39;dec&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span>
        <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s1">&#39;GALAXY&#39;</span><span class="p">,</span> <span class="s1">&#39;QSO&#39;</span><span class="p">,</span> <span class="s1">&#39;STAR&#39;</span><span class="p">],</span> <span class="n">n</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="p">[</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">]),</span>
        <span class="s1">&#39;flux_g&#39;</span><span class="p">:</span> <span class="n">flux_g</span><span class="p">,</span>
        <span class="s1">&#39;flux_r&#39;</span><span class="p">:</span> <span class="n">flux_r</span><span class="p">,</span>
        <span class="s1">&#39;flux_z&#39;</span><span class="p">:</span> <span class="n">flux_z</span><span class="p">,</span>
        <span class="s1">&#39;flux_w1&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span>
        <span class="s1">&#39;flux_w2&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span>
        <span class="s1">&#39;flux_ivar_g&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span>
        <span class="s1">&#39;flux_ivar_r&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span>
        <span class="s1">&#39;flux_ivar_z&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></div>


<div class="viewcode-block" id="crear_dataset_prueba_sdss">
<a class="viewcode-back" href="../../source/modules/tests.html#tests.test_calculos_integrado.crear_dataset_prueba_sdss">[documentos]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">crear_dataset_prueba_sdss</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Crea un dataset de prueba simulando datos SDSS&quot;&quot;&quot;</span>
    <span class="n">n</span> <span class="o">=</span> <span class="mi">100</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;objid&#39;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span>
        <span class="s1">&#39;ra&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">360</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span>
        <span class="s1">&#39;dec&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span>
        <span class="s1">&#39;z&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span>  <span class="c1"># Redshift</span>
        <span class="s1">&#39;class&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s1">&#39;GALAXY&#39;</span><span class="p">,</span> <span class="s1">&#39;STAR&#39;</span><span class="p">,</span> <span class="s1">&#39;QSO&#39;</span><span class="p">],</span> <span class="n">n</span><span class="p">),</span>
        <span class="s1">&#39;flux_g&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span>
        <span class="s1">&#39;flux_r&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></div>


<div class="viewcode-block" id="crear_dataset_prueba_neo">
<a class="viewcode-back" href="../../source/modules/tests.html#tests.test_calculos_integrado.crear_dataset_prueba_neo">[documentos]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">crear_dataset_prueba_neo</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Crea un dataset de prueba simulando datos NEO&quot;&quot;&quot;</span>
    <span class="n">n</span> <span class="o">=</span> <span class="mi">50</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;targetname&#39;</span><span class="p">:</span> <span class="p">[</span><span class="sa">f</span><span class="s1">&#39;Asteroid_</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)],</span>
        <span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span>  <span class="c1"># Magnitud absoluta</span>
        <span class="s1">&#39;q&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span>  <span class="c1"># Perihelio en AU</span>
        <span class="s1">&#39;e&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span>  <span class="c1"># Excentricidad</span>
        <span class="s1">&#39;incl&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span>  <span class="c1"># Inclinaci√≥n</span>
        <span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>  <span class="c1"># Semi-eje mayor</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></div>


<div class="viewcode-block" id="test_funciones_basicas">
<a class="viewcode-back" href="../../source/modules/tests.html#tests.test_calculos_integrado.test_funciones_basicas">[documentos]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">test_funciones_basicas</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Prueba las funciones b√°sicas de c√°lculo&quot;&quot;&quot;</span>
    <span class="n">separador</span><span class="p">(</span><span class="s2">&quot;PRUEBAS DE FUNCIONES B√ÅSICAS&quot;</span><span class="p">)</span>
    
    <span class="n">calc</span> <span class="o">=</span> <span class="n">Calculos</span><span class="p">()</span>
    
    <span class="c1"># Test 1: Hubble</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1Ô∏è‚É£  Calculando constante de Hubble...&quot;</span><span class="p">)</span>
    <span class="n">H</span> <span class="o">=</span> <span class="n">calc</span><span class="o">.</span><span class="n">calcularHubble</span><span class="p">(</span><span class="n">velocidad</span><span class="o">=</span><span class="mi">7000</span><span class="p">,</span> <span class="n">distancia</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   ‚úì H = </span><span class="si">{</span><span class="n">H</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> km/s/Mpc&quot;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="mi">60</span> <span class="o">&lt;</span> <span class="n">H</span> <span class="o">&lt;</span> <span class="mi">80</span><span class="p">,</span> <span class="s2">&quot;Valor de H fuera del rango esperado&quot;</span>
    
    <span class="c1"># Test 2: Redshift (corregido: usar par√°metros posicionales)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">2Ô∏è‚É£  Calculando redshift...&quot;</span><span class="p">)</span>
    <span class="n">z</span> <span class="o">=</span> <span class="n">calc</span><span class="o">.</span><span class="n">calcularRedshift</span><span class="p">(</span><span class="mf">656.3</span><span class="p">,</span> <span class="mf">486.1</span><span class="p">)</span>  <span class="c1"># longitud_observada, longitud_emitida</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   ‚úì z = </span><span class="si">{</span><span class="n">z</span><span class="si">:</span><span class="s2">.6f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">z</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;Redshift debe ser positivo para objetos que se alejan&quot;</span>
    
    <span class="c1"># Test 3: Distancia de Hubble</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">3Ô∏è‚É£  Calculando distancia cosmol√≥gica...&quot;</span><span class="p">)</span>
    <span class="n">dist</span> <span class="o">=</span> <span class="n">calc</span><span class="o">.</span><span class="n">calcularDistanciaHubble</span><span class="p">(</span><span class="n">z</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   ‚úì Distancia = </span><span class="si">{</span><span class="n">dist</span><span class="p">[</span><span class="s1">&#39;distancia_Mpc&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> Mpc&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   ‚úì Velocidad = </span><span class="si">{</span><span class="n">dist</span><span class="p">[</span><span class="s1">&#39;velocidad_km_s&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> km/s&quot;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">dist</span><span class="p">[</span><span class="s1">&#39;distancia_Mpc&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;Distancia debe ser positiva&quot;</span>
    
    <span class="c1"># Test 4: Velocidad Angular</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">4Ô∏è‚É£  Calculando velocidad angular...&quot;</span><span class="p">)</span>
    <span class="n">periodo</span> <span class="o">=</span> <span class="mf">365.25</span> <span class="o">*</span> <span class="mi">86400</span>  <span class="c1"># 1 a√±o en segundos</span>
    <span class="n">radio</span> <span class="o">=</span> <span class="mf">1.496e11</span>  <span class="c1"># 1 AU</span>
    <span class="n">vel</span> <span class="o">=</span> <span class="n">calc</span><span class="o">.</span><span class="n">calcularVelocidadAngular</span><span class="p">(</span><span class="n">periodo</span><span class="p">,</span> <span class="n">radio</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   ‚úì œâ = </span><span class="si">{</span><span class="n">vel</span><span class="p">[</span><span class="s1">&#39;velocidad_angular&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.10e</span><span class="si">}</span><span class="s2"> rad/s&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   ‚úì v = </span><span class="si">{</span><span class="n">vel</span><span class="p">[</span><span class="s1">&#39;velocidad_lineal&#39;</span><span class="p">]</span><span class="o">/</span><span class="mi">1000</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> km/s&quot;</span><span class="p">)</span>
    
    <span class="c1"># Test 5: √ìrbita</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">5Ô∏è‚É£  Calculando par√°metros orbitales...&quot;</span><span class="p">)</span>
    <span class="n">orbita</span> <span class="o">=</span> <span class="n">calc</span><span class="o">.</span><span class="n">calcularOrbita</span><span class="p">(</span><span class="n">calc</span><span class="o">.</span><span class="n">MASA_SOL</span><span class="p">,</span> <span class="mf">1.496e11</span><span class="p">,</span> <span class="mf">0.0167</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   ‚úì Per√≠odo = </span><span class="si">{</span><span class="n">orbita</span><span class="p">[</span><span class="s1">&#39;periodo_a√±os&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2"> a√±os&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   ‚úì Velocidad = </span><span class="si">{</span><span class="n">orbita</span><span class="p">[</span><span class="s1">&#39;velocidad_orbital&#39;</span><span class="p">]</span><span class="o">/</span><span class="mi">1000</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> km/s&quot;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="mf">0.99</span> <span class="o">&lt;</span> <span class="n">orbita</span><span class="p">[</span><span class="s1">&#39;periodo_a√±os&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mf">1.01</span><span class="p">,</span> <span class="s2">&quot;Per√≠odo de la Tierra debe ser ~1 a√±o&quot;</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">‚úÖ Todas las pruebas de funciones b√°sicas pasaron correctamente&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="test_analisis_dataframe_sdss">
<a class="viewcode-back" href="../../source/modules/tests.html#tests.test_calculos_integrado.test_analisis_dataframe_sdss">[documentos]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">test_analisis_dataframe_sdss</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Prueba el an√°lisis de un DataFrame SDSS en memoria&quot;&quot;&quot;</span>
    <span class="n">separador</span><span class="p">(</span><span class="s2">&quot;PRUEBA DE AN√ÅLISIS - DATASET SDSS (en memoria)&quot;</span><span class="p">)</span>
    
    <span class="n">calc</span> <span class="o">=</span> <span class="n">Calculos</span><span class="p">()</span>
    
    <span class="c1"># Crear dataset de prueba</span>
    <span class="n">df_sdss</span> <span class="o">=</span> <span class="n">crear_dataset_prueba_sdss</span><span class="p">()</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;üìä Dataset de prueba creado:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Objetos: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">df_sdss</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Columnas: </span><span class="si">{</span><span class="nb">list</span><span class="p">(</span><span class="n">df_sdss</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">   Primeras 3 filas:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">df_sdss</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
    
    <span class="c1"># Analizar</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">üî¨ Aplicando an√°lisis...&quot;</span><span class="p">)</span>
    <span class="n">df_resultado</span> <span class="o">=</span> <span class="n">calc</span><span class="o">.</span><span class="n">analizar_datos_csv</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">df_sdss</span><span class="p">,</span> <span class="n">fuente</span><span class="o">=</span><span class="s2">&quot;SDSS_TEST&quot;</span><span class="p">)</span>
    
    <span class="c1"># Verificar resultados</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">üìà Verificando resultados...&quot;</span><span class="p">)</span>
    <span class="n">columnas_esperadas</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;distancia_Mpc&#39;</span><span class="p">,</span> <span class="s1">&#39;distancia_a√±os_luz&#39;</span><span class="p">,</span> <span class="s1">&#39;velocidad_recesion_km_s&#39;</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">columnas_esperadas</span><span class="p">:</span>
        <span class="k">assert</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df_resultado</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Columna </span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s2"> no encontrada&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   ‚úì </span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s2">: OK&quot;</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">‚úÖ An√°lisis de SDSS completado exitosamente&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Columnas agregadas: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">df_resultado</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="n">df_sdss</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    
    <span class="c1"># Generar reporte</span>
    <span class="n">reporte</span> <span class="o">=</span> <span class="n">calc</span><span class="o">.</span><span class="n">generar_reporte</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">reporte</span><span class="p">)</span>
    
    <span class="c1"># No retornar nada para pytest</span>
    <span class="k">assert</span> <span class="n">df_resultado</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="test_analisis_dataframe_neo">
<a class="viewcode-back" href="../../source/modules/tests.html#tests.test_calculos_integrado.test_analisis_dataframe_neo">[documentos]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">test_analisis_dataframe_neo</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Prueba el an√°lisis de un DataFrame NEO en memoria&quot;&quot;&quot;</span>
    <span class="n">separador</span><span class="p">(</span><span class="s2">&quot;PRUEBA DE AN√ÅLISIS - DATASET NEO (en memoria)&quot;</span><span class="p">)</span>
    
    <span class="n">calc</span> <span class="o">=</span> <span class="n">Calculos</span><span class="p">()</span>
    
    <span class="c1"># Crear dataset de prueba</span>
    <span class="n">df_neo</span> <span class="o">=</span> <span class="n">crear_dataset_prueba_neo</span><span class="p">()</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚òÑÔ∏è  Dataset de prueba NEO creado:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Objetos: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">df_neo</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Columnas: </span><span class="si">{</span><span class="nb">list</span><span class="p">(</span><span class="n">df_neo</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">   Primeras 3 filas:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">df_neo</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
    
    <span class="c1"># Analizar</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">üî¨ Aplicando an√°lisis orbital...&quot;</span><span class="p">)</span>
    <span class="n">df_resultado</span> <span class="o">=</span> <span class="n">calc</span><span class="o">.</span><span class="n">analizar_datos_csv</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">df_neo</span><span class="p">,</span> <span class="n">fuente</span><span class="o">=</span><span class="s2">&quot;NEO_TEST&quot;</span><span class="p">)</span>
    
    <span class="c1"># Verificar resultados</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">üìà Verificando resultados...&quot;</span><span class="p">)</span>
    <span class="n">columnas_esperadas</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;periodo_orbital_a√±os&#39;</span><span class="p">,</span> <span class="s1">&#39;velocidad_orbital_km_s&#39;</span><span class="p">,</span> <span class="s1">&#39;afelio_AU&#39;</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">columnas_esperadas</span><span class="p">:</span>
        <span class="k">assert</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df_resultado</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Columna </span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s2"> no encontrada&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   ‚úì </span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s2">: OK&quot;</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">‚úÖ An√°lisis de NEO completado exitosamente&quot;</span><span class="p">)</span>
    
    <span class="c1"># Mostrar estad√≠sticas</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">üìä Estad√≠sticas orbitales:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Per√≠odo m√≠nimo: </span><span class="si">{</span><span class="n">df_resultado</span><span class="p">[</span><span class="s1">&#39;periodo_orbital_a√±os&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> a√±os&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Per√≠odo m√°ximo: </span><span class="si">{</span><span class="n">df_resultado</span><span class="p">[</span><span class="s1">&#39;periodo_orbital_a√±os&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> a√±os&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Velocidad media: </span><span class="si">{</span><span class="n">df_resultado</span><span class="p">[</span><span class="s1">&#39;velocidad_orbital_km_s&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> km/s&quot;</span><span class="p">)</span>
    
    <span class="c1"># No retornar nada para pytest</span>
    <span class="k">assert</span> <span class="n">df_resultado</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="test_guardar_y_leer_csv">
<a class="viewcode-back" href="../../source/modules/tests.html#tests.test_calculos_integrado.test_guardar_y_leer_csv">[documentos]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">test_guardar_y_leer_csv</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Prueba guardar un dataset y leerlo despu√©s&quot;&quot;&quot;</span>
    <span class="n">separador</span><span class="p">(</span><span class="s2">&quot;PRUEBA DE GUARDAR Y LEER CSV&quot;</span><span class="p">)</span>
    
    <span class="n">calc</span> <span class="o">=</span> <span class="n">Calculos</span><span class="p">()</span>
    
    <span class="c1"># Crear y guardar dataset</span>
    <span class="n">df_test</span> <span class="o">=</span> <span class="n">crear_dataset_prueba_sdss</span><span class="p">()</span>
    <span class="n">ruta_test</span> <span class="o">=</span> <span class="n">calc</span><span class="o">.</span><span class="n">data_path</span> <span class="o">/</span> <span class="s2">&quot;test_sdss_data.csv&quot;</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;üíæ Guardando dataset de prueba...&quot;</span><span class="p">)</span>
    <span class="n">calc</span><span class="o">.</span><span class="n">data_path</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">df_test</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">ruta_test</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   ‚úì Guardado en: </span><span class="si">{</span><span class="n">ruta_test</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    
    <span class="c1"># Re-escanear datasets</span>
    <span class="n">calc</span><span class="o">.</span><span class="n">_escanear_datasets</span><span class="p">()</span>
    
    <span class="c1"># Listar datasets</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">üìö Datasets disponibles:&quot;</span><span class="p">)</span>
    <span class="n">datasets</span> <span class="o">=</span> <span class="n">calc</span><span class="o">.</span><span class="n">listar_datasets</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">ds</span> <span class="ow">in</span> <span class="n">datasets</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   ‚Ä¢ </span><span class="si">{</span><span class="n">ds</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    
    <span class="c1"># Analizar desde archivo</span>
    <span class="k">if</span> <span class="s2">&quot;test_sdss_data&quot;</span> <span class="ow">in</span> <span class="n">datasets</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">üîç Analizando desde archivo...&quot;</span><span class="p">)</span>
        <span class="n">df_resultado</span> <span class="o">=</span> <span class="n">calc</span><span class="o">.</span><span class="n">analizar_datos_csv</span><span class="p">(</span><span class="n">dataset_name</span><span class="o">=</span><span class="s2">&quot;test_sdss_data&quot;</span><span class="p">)</span>
        
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">‚úÖ Dataset le√≠do y analizado correctamente&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Filas: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">df_resultado</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Columnas: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">df_resultado</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        
        <span class="c1"># No retornar nada para pytest</span>
        <span class="k">assert</span> <span class="n">df_resultado</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;‚ö†Ô∏è  Dataset no encontrado despu√©s de guardar&quot;</span><span class="p">)</span>
        <span class="k">assert</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;Dataset no encontrado&quot;</span></div>


<div class="viewcode-block" id="test_comparacion_calculos">
<a class="viewcode-back" href="../../source/modules/tests.html#tests.test_calculos_integrado.test_comparacion_calculos">[documentos]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">test_comparacion_calculos</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Compara c√°lculos manuales con los de la clase&quot;&quot;&quot;</span>
    <span class="n">separador</span><span class="p">(</span><span class="s2">&quot;VERIFICACI√ìN DE PRECISI√ìN DE C√ÅLCULOS&quot;</span><span class="p">)</span>
    
    <span class="n">calc</span> <span class="o">=</span> <span class="n">Calculos</span><span class="p">()</span>
    
    <span class="c1"># Test 1: Ley de Hubble</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;üî¨ Verificando Ley de Hubble...&quot;</span><span class="p">)</span>
    <span class="n">z_test</span> <span class="o">=</span> <span class="mf">0.1</span>
    <span class="n">v_esperada</span> <span class="o">=</span> <span class="n">calc</span><span class="o">.</span><span class="n">C</span> <span class="o">*</span> <span class="n">z_test</span>
    <span class="n">d_esperada</span> <span class="o">=</span> <span class="n">v_esperada</span> <span class="o">/</span> <span class="n">calc</span><span class="o">.</span><span class="n">H0</span>
    
    <span class="n">resultado</span> <span class="o">=</span> <span class="n">calc</span><span class="o">.</span><span class="n">calcularDistanciaHubble</span><span class="p">(</span><span class="n">z_test</span><span class="p">)</span>
    
    <span class="k">assert</span> <span class="nb">abs</span><span class="p">(</span><span class="n">resultado</span><span class="p">[</span><span class="s1">&#39;velocidad_km_s&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">v_esperada</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.01</span><span class="p">,</span> <span class="s2">&quot;Error en c√°lculo de velocidad&quot;</span>
    <span class="k">assert</span> <span class="nb">abs</span><span class="p">(</span><span class="n">resultado</span><span class="p">[</span><span class="s1">&#39;distancia_Mpc&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">d_esperada</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.01</span><span class="p">,</span> <span class="s2">&quot;Error en c√°lculo de distancia&quot;</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   ‚úì Velocidad: </span><span class="si">{</span><span class="n">resultado</span><span class="p">[</span><span class="s1">&#39;velocidad_km_s&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> km/s (esperado: </span><span class="si">{</span><span class="n">v_esperada</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   ‚úì Distancia: </span><span class="si">{</span><span class="n">resultado</span><span class="p">[</span><span class="s1">&#39;distancia_Mpc&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> Mpc (esperado: </span><span class="si">{</span><span class="n">d_esperada</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    
    <span class="c1"># Test 2: Tercera Ley de Kepler</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">ü™ê Verificando Tercera Ley de Kepler...&quot;</span><span class="p">)</span>
    <span class="n">a</span> <span class="o">=</span> <span class="mf">1.496e11</span>  <span class="c1"># 1 AU en metros</span>
    <span class="n">T_esperado</span> <span class="o">=</span> <span class="mf">365.25</span> <span class="o">*</span> <span class="mi">86400</span>  <span class="c1"># 1 a√±o en segundos</span>
    
    <span class="n">orbita</span> <span class="o">=</span> <span class="n">calc</span><span class="o">.</span><span class="n">calcularOrbita</span><span class="p">(</span><span class="n">calc</span><span class="o">.</span><span class="n">MASA_SOL</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">error_relativo</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">orbita</span><span class="p">[</span><span class="s1">&#39;periodo_segundos&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">T_esperado</span><span class="p">)</span> <span class="o">/</span> <span class="n">T_esperado</span> <span class="o">*</span> <span class="mi">100</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   ‚úì Per√≠odo calculado: </span><span class="si">{</span><span class="n">orbita</span><span class="p">[</span><span class="s1">&#39;periodo_a√±os&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.6f</span><span class="si">}</span><span class="s2"> a√±os&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   ‚úì Error relativo: </span><span class="si">{</span><span class="n">error_relativo</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
    
    <span class="k">assert</span> <span class="n">error_relativo</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;Error en Tercera Ley de Kepler mayor al 1%&quot;</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">‚úÖ Todos los c√°lculos verificados correctamente&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="main">
<a class="viewcode-back" href="../../source/modules/tests.html#tests.test_calculos_integrado.main">[documentos]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Ejecuta todas las pruebas&quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;=&quot;</span><span class="o">*</span><span class="mi">70</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;üöÄ SISTEMA DE PRUEBAS - CLASE CALCULOS&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;   Integraci√≥n con Orquestador Rutinas&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="o">*</span><span class="mi">70</span><span class="p">)</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Pruebas b√°sicas</span>
        <span class="n">test_funciones_basicas</span><span class="p">()</span>
        
        <span class="c1"># Pruebas de an√°lisis</span>
        <span class="n">test_analisis_dataframe_sdss</span><span class="p">()</span>
        <span class="n">test_analisis_dataframe_neo</span><span class="p">()</span>
        
        <span class="c1"># Pruebas de archivos</span>
        <span class="n">test_guardar_y_leer_csv</span><span class="p">()</span>
        
        <span class="c1"># Verificaci√≥n de precisi√≥n</span>
        <span class="n">test_comparacion_calculos</span><span class="p">()</span>
        
        <span class="c1"># Resumen final</span>
        <span class="n">separador</span><span class="p">(</span><span class="s2">&quot;RESUMEN DE PRUEBAS&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;‚úÖ TODAS LAS PRUEBAS PASARON EXITOSAMENTE&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">üìù La clase Calculos est√° lista para:&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;   1. Integrarse con el orquestador Rutinas&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;   2. Procesar datos de SDSS, DESI, NEO, NASA ESI&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;   3. Aplicar c√°lculos astron√≥micos autom√°ticamente&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;   4. Generar reportes de an√°lisis&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">üéØ Pr√≥ximos pasos:&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;   ‚Ä¢ Copiar calculos.py a la carpeta Calculos/&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;   ‚Ä¢ Actualizar rutinas.py con la versi√≥n integrada&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;   ‚Ä¢ Ejecutar rutinas.py para probar el sistema completo&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;=&quot;</span><span class="o">*</span><span class="mi">70</span><span class="p">)</span>
        
    <span class="k">except</span> <span class="ne">AssertionError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">‚ùå PRUEBA FALLIDA: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">‚ùå ERROR INESPERADO: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="kn">import</span><span class="w"> </span><span class="nn">traceback</span>
        <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span>
        <span class="k">return</span> <span class="kc">False</span>
    
    <span class="k">return</span> <span class="kc">True</span></div>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">exito</span> <span class="o">=</span> <span class="n">main</span><span class="p">()</span>
    <span class="n">exit</span><span class="p">(</span><span class="mi">0</span> <span class="k">if</span> <span class="n">exito</span> <span class="k">else</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>

            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">B√∫squeda r√°pida</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Ir a" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navegaci√≥n</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="√çndice General"
             >√≠ndice</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="√çndice de M√≥dulos Python"
             >m√≥dulos</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">documentaci√≥n de Quipu-Skyfree - 21/11/2025</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >C√≥digo de m√≥dulo</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">tests.test_calculos_integrado</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2025, Maria Alejandra Moreno, Juan Sebastian Sanchez, Jose Luis Zamora..
      Creado usando <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    </div>
  </body>
</html>